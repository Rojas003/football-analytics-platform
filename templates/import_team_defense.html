{% extends "base.html" %}

{% block title %}Import Team Defense Stats{% endblock %}

{% block content %}
<h2>üîΩ Import Team Defense Stats from API</h2>
<p style="margin-bottom: 30px;">Automatically import defensive stats for all NFL teams</p>

<div style="max-width: 600px; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
    
    <div style="background: #e7f3ff; padding: 15px; border-radius: 8px; margin-bottom: 25px; border-left: 4px solid #0066cc;">
        <strong>üí° How This Works:</strong><br>
        This will automatically fetch defensive statistics for ALL 32 NFL teams from the NFL Data API, including:
        <ul style="margin: 10px 0 0 20px;">
            <li>Pass yards allowed per game</li>
            <li>Rush yards allowed per game</li>
            <li>TDs allowed (pass & rush)</li>
            <li>Total sacks</li>
            <li>Automatic defensive rankings (1-32)</li>
        </ul>
    </div>
    
    <form method="POST">
        <div style="margin-bottom: 20px;">
            <label for="season" style="display: block; margin-bottom: 8px; font-weight: 500;">Season *</label>
            <select id="season" name="season" required
                    style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 15px;">
                <option value="2024" selected>2024</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
            </select>
            <p style="font-size: 13px; color: #666; margin-top: 5px;">Note: 2025 data may not be available yet</p>
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="week" style="display: block; margin-bottom: 8px; font-weight: 500;">Assign to Week *</label>
            <input type="number" id="week" name="week" value="1" min="1" max="18" required
                   style="width: 100%; padding: 10px; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 15px;">
            <p style="font-size: 13px; color: #666; margin-top: 5px;">Stats will be season averages but assigned to this week number</p>
        </div>
        
        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
            <strong>‚ö†Ô∏è Note:</strong> If defense stats already exist for a team/season/week combination, they will be updated with the latest data.
        </div>
        
        <div style="margin-top: 30px;">
            <button type="submit" class="btn" style="padding: 12px 30px; font-size: 16px;">
                üîΩ Import Defense Stats
            </button>
            <a href="/" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<div style="margin-top: 40px;">
    <a href="{{ url_for('add_team_defense') }}" class="btn btn-secondary">Manual Entry Instead</a>
    <a href="/" class="btn btn-secondary">Back to Dashboard</a>
</div>
{% endblock %}